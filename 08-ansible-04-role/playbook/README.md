# Оглавление

- [Описание](#Описание)
- [Требования](#Требования)
- [Переменные](#Переменные)
- [Inventory](#Inventory)
- [Playbook](#Playbook)

## Описание

Плейбук для развёртывания ПО Clickhouse, Vector b lighthouse на хосты указанные в inventory.

## Требования

Для установки clickhouse требуется хост под управлением CentOS7. Для Vector и lighthouse требуются хосты под управлением Ubuntu

## Переменные

Переменные использующиеся в плейбуке описаны в на страницах репозиториев ролей

## Inventory

Файл расположен в inventory/prod.yaml, состоит из трёх групп: clickhouse, vector и lighthouse.

## Playbook

Плэйбук содержит три роли, первым устанавливается Clickhouse, имеется rescue блок в случае если первый источник загрузки недоступен. Далее устанавливается Vector и lighthouse. Перезапуск служб происходит после установки Clickhouse, в случае изминения конфига Vector и после обновления конфига lighthouse.

